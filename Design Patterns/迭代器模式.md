## 概念

迭代器模式提供一种方法顺序访问一个聚合对象中各个元素，而又不需要暴露该方法中的内部表示。

作用：

1. 为遍历不同集合结构提供一个统一的接口，从而支持同样的算法在不同的集合结构上进行操作
2. 对于集合内部结果常常变化各异，我们不想暴露其内部结构但又想让客户代码透明访问其中的元素，这种情况下，我们可以使用迭代器模式

注意事项：

1. 一般的迭代，我们至少需要两个方法，hasNext()和next()，这样才能做到遍历所有对象
2. 遍历的同时更改迭代器所在的集合结构可能会导致问题



## 用例

其实，迭代器在JS中随处可见，比如数组中的forEach、map等都是迭代器模式。我们可以简单的模拟一下：

```javascript
var arr = [1,2,3]
var iterator = (function () {
    var len = arr.length
    var index = 0
    return {
        hasNext: function () {
            return index < len
        },
        next: function () {
            var data = arr[index]
            index++
            return data
        }
    }
})()
while( iterator.hasNext() ) {
    console.log( iterator.next() )
}
```


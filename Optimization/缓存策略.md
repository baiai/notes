在HTTP中有许多与缓存策略相关的属性，接下来将一一介绍。

## Cache-control

Cache-Control有6个值：

max-age：表示请求的资源能保存的相对时间（强制缓存）

s-maxage：表示请求的资源在代理服务器中保存的相对时间，但是只针对public资源，优先级高于max-age

public：表示可以缓存在代理服务器和客户端的资源。

private：表示只能缓存在客户端的资源

no-cache：表示资源的获取不能直接从缓存中获取，应该先询问一下服务器（协商缓存）

no-store：表示不能缓存的资源



## Expires

Expires设置的过期时间是绝对时间，优先级低于Cache-Control，如果Cache-Control设置了过期时间，那么Expires的过期时间就无效了。



## Last-Modefied、If-Modefied-Since

Last-Modefied和If-Modefied-Since的值是一样的，当浏览器收到服务器发来的带有Last-Modefied信息的响应头时，如果浏览器再次请求这个资源就会携带一个带有If-Modefied-Since的属性的请求头，并且值为上一次Response中的Last-Modefied的值，服务器判断If-Modefied-Since的值是否有效，如果有效则返回304的状态码，如果无效则返回新的资源并返回200的状态码。

但是Last-Modefied有两个缺点：一是，某些服务器无法获取精确的修改时间，导致协商缓存的时候无法确定资源是否有效。二是，文件时间修改了，但是文件内容并没有修改，那么服务器也会判定资源过期，但是这是没有必要而且浪费的。为了解决这两个缺点，ETag出现了。



## ETag、If-None-Match

ETag是资源在服务器端的唯一标识，它是比较文件内容的变化，所以它的优先级高于Last-Modefied。

工作流程：Response设置了RTag的值，如果再次请求该资源的话，Request中的If-None-Match的值就设为ETag的值，服务器端根据If-None-Match的值，判断资源是否修改，没有则返回304的状态码，有则返回新的资源和200状态码。